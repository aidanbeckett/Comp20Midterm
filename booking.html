<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Boston Banquets description">
    <meta name="author" content="Eric, Jessica, Aidan, Pan">	
    <title>Boston Banquets</title>
    <link rel="stylesheet" href="my_style.css">
    
    <style>
      form {
        background-color: lightblue;
      }
    </style>
    
    <script language="javascript">
    
      var isValid = false;  //track whether form has been validated
      var pForm   = /^\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})$/; //phone # format
      var eForm   = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/; //email format
      
      //validate responses
      function validateForm() 
      {
        name  = document.getElementById("name").value;
        phone = document.getElementById("phone").value;
        email = document.getElementById("mail").value;
        date  = document.getElementById("day").value;
        msg   = "";
        
        if (name == "") 
          msg = "You must fill out your name.";
        else if (!phone.match(pForm))
          msg = "Please make sure you include the area code of your phone number. (XXX-XXX-XXXX)"
        else if (!email.match(eForm))
          msg = "Please enter a valid email. (john.smith@yahoo.com)"
        else if (date == "")
          msg = "Please select a date."
        else
          isValid = true;

        if (isValid) {
          complete();
        }
        else {
          document.getElementById("warning").innerHTML = "Form Submission Unsuccessful";
          document.getElementById("message").innerHTML = msg;
        }
      }
      
      //completion confirmation
      function complete()
      {
        space = document.getElementById("space").value;
        name  = document.getElementById("name").value;
        phone = document.getElementById("phone").value;
        email = document.getElementById("mail").value;
        date  = document.getElementById("day").value;
        document.getElementById("form").style.display = "none";
        
        message = document.getElementById("submission message")
        message.innerHTML = "You are all done, " +name+ "! You have booked the " +space+" for " + date + ", and a confirmation email will be sent to " + email + ".";
        document.getElementById("another").style.display = "block";
      }
      
      //new form 
      function newForm() 
      {
        document.getElementById("another").style.display = "none";
        document.getElementById("submission message").style.display = "none";
        document.getElementById("form").style.display = "block";
        
        //erase previous info
        var info = ["name","phone","mail","day"];
        for (var i = 0; i < info.length; i++) {
          document.getElementById(info[i]).value = "";
        }
      }
      
      window.onload = function() {
        document.getElementById("another").style.display = "none";
        done = document.getElementById("confirm");
        done.addEventListener("click",validateForm);
        another = document.getElementById("another");
        another.addEventListener("click",newForm);
      }
    
    </script>
</head>
<body>
    <header>
       <figure>
          <a href="index.html"><img src="BBLogo.png" class="center"/></a>

        </figure>
	    
	 <nav class = "navbar">
            <a href = "index.html">Home</a>
            <a href = "about-us.html">About Us</a>
            <div class="dropdown">
                <button class="dropbtn">                            
                    <a href = "spaces.html">Spaces</a>
                </button>
                <div class="dropdown-content">
                    <a href="ballroom.html">Ballroom</a>
                    <a href="office.html">Office Spaces</a>
                    <a href="auditorium.html">Auditorium</a>
                </div>
            </div>
            <a href = "booking.html">Booking</a>
            <a href = "events.html">Events</a>
	       </nav>
    </header>
    
    <h1 style="text-align:center">Book Your Space Now!</h1>
    <p id="submission message" style="text-align:center"></p>
    <p id="another" style="text-align:center">
      <input type="button" id="another" name="another" value="New Booking">
    </p>
    <form id="form">
      <table style="width:100%">
        <tr>
          <td>Name</td> 
          <td><input type="text" id="name" name="name" value=""></td>
        </tr>
        <tr>
          <td>Phone Number</td> 
          <td><input type="text" id="phone" name="phone" value=""></td>
        </tr>
        <tr>
          <td>Email Address</td> 
          <td><input type="text" id="mail" name="mail" value=""></td>
        </tr>
        <tr>
          <td>Date</td> 
          <td>
            <input type="date" id="day" name="day">
          </td>
        </tr>
        <tr>
          <td>Space</td> 
          <td>
            <select id="space" name="space">
              <option value="Auditorium">Auditorium</option>
              <option value="Ballroom">Ballroom</option>
              <option value="Office Space">Office Space</option>
            </select>
          </td>
        </tr>
      </table>
      <br>
      <p style="text-align:center;color:red" id="warning"></p> 
      <p style="text-align:center;color:red" id="message"></p> 
      <p style="text-align:center"><input type="button" id="confirm" name="confirm" value="Confirm"></p>
    </form>
    
    <footer class = "footer">
        <p>Boston Banquets</p>
        <p>419 Boston Ave, Medford, MA 02155</p>
        <p><a href='tel:617-628-5000'>(617) 628-5000</a></p>
        <p><a href='mailto:banquets@boston.com'>banquets@boston.com</a></p>
    </footer>
</body>
</html>
